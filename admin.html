<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin – Mejor Vida</title>
  <style>
    body{font-family:system-ui;background:#0a5d3e;color:white;padding:40px;text-align:center;}
    textarea,button{width:90%;max-width:700px;padding:20px;margin:15px;font-size:20px;border-radius:12px;}
    button{background:#ffd700;color:#0a5d3e;font-weight:bold;cursor:pointer;}
  </style>
</head>
<body>
  <h1>Admin – Mejor Vida Insurance</h1>
  <p>Type your changes in plain English</p>
  <textarea id="prompt" rows="8" placeholder="Example: Change headline to ‘Protect Your Family Today – From $29/month’ and make the button red"></textarea><br>
  <button onclick="save()">Save Changes</button>
  <p id="status" style="font-size:22px;margin-top:20px;"></p>

  <script>
    async function save() {
      const prompt = document.getElementById("prompt").value || "small update";
      document.getElementById("status").textContent = "Saving…";

      // This uses GitHub’s built-in “Edit file” link — 100% safe, no token needed
      const url = `https://github.com/Mejor-Vida/Mejor-Vida-HTML/edit/main/index.html?message=Admin update: ${encodeURIComponent(prompt)}&description=Quick change from admin panel&content=${btoa(unescape(encodeURIComponent(await (await fetch("../index.html")).text())))}`;

      // Opens GitHub editor in a new tab with your changes pre-filled
      window.open(url, '_blank');
      document.getElementById("status").innerHTML = "GitHub editor opened – just click Commit!";
    }
  </script>
</body>
</html>
