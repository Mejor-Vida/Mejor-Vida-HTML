<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mejor Vida Insurance - Seguro de Gastos Finales</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Font Awesome for social + contact icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <style>
    /* Logo size updated to 150px height */
    .logo img,
    #header-logo,
    .header-logo-img {
      height: 150px;
      width: auto;
      max-width: 100%;
    }

    /* Footer social icons colored and aligned right */
    .footer-bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .footer-left {
      flex: 1 1 auto;
      min-width: 250px;
    }
    .footer-right {
      flex: 0 0 auto;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .footer-right a {
      font-size: 1.5rem;
      color: inherit;
      transition: transform 0.3s ease;
    }
    .footer-right a:hover {
      transform: scale(1.2);
    }
    .footer-right a .fab {
      /* Colored icons */
      color: #3b5998; /* Facebook blue */
    }
    .footer-right a[aria-label="Instagram"] .fab {
      color: #e4405f; /* Instagram pink */
    }
    .footer-right a[aria-label="LinkedIn"] .fab {
      color: #0077b5; /* LinkedIn blue */
    }

    /* ---------- Modal styles for embedded Agent CRM form ---------- */
    .quote-modal {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 9999;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }
    .quote-modal[aria-hidden="false"] {
      display: flex;
    }
    .quote-modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.45);
    }

    /* Panel is column flex so header stays at top and iframe area fills remaining space */
    .quote-modal-panel {
      position: relative;
      background: #fff;
      width: 96%;
      max-width: 1100px;
      border-radius: 8px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.25);
      overflow: hidden;
      max-height: 95vh;          /* allow almost full viewport height */
      display: flex;
      flex-direction: column;
      outline: none;
    }

    /* Header inside modal (logo left, centered title, close right) */
    .quote-modal-header {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 12px 20px;
      background: #ffffff;
      border-bottom: 1px solid #eee;
      flex: 0 0 auto;
      position: relative;       /* allows absolute centering of title */
    }

    /* Logo same size as other pages */
    .quote-modal-header .modal-logo img {
      height: 150px;            /* match your other pages */
      width: auto;
      display: block;
    }

    /* Centered title block in header */
    .quote-modal-header .modal-title-wrap {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      pointer-events: none;     /* keep clicks for close button/links unaffected */
      width: calc(100% - 220px);/* leave room for logo + close button */
    }

    /* Title/subtitle styles (bigger) */
    .quote-modal-title {
      font-size: 20px;
      font-weight: 700;
      color: #111827;
    }
    .quote-modal-subtitle {
      font-size: 14px;
      color: #6b7280;
      margin-top: 3px;
    }

    /* Close button sits above header content on the right */
    .quote-modal-close {
      position: absolute;
      right: 12px;
      top: 12px;
      background: transparent;
      border: 0;
      font-size: 28px;
      line-height: 1;
      cursor: pointer;
      color: #111;
      padding: 6px;
      z-index: 4;
    }

    /* iframe area fills remaining panel height and allows iframe to show scrollbars */
    .quote-iframe-wrap {
      width: 100%;
      flex: 1 1 auto;
      background: #fff;
      display: flex;
      min-height: 320px;
    }
    .quote-iframe-inner {
      flex: 1 1 auto;
      height: 100%;
      overflow: hidden;            /* hide extra; iframe will have its own scrollbar */
      -webkit-overflow-scrolling: touch;
      padding: 0;                  /* keep iframe flush */
      box-sizing: border-box;
    }
    .quote-iframe-inner iframe {
      width: 100%;
      border: 0;
      display: block;
      min-height: 700px;           /* baseline */
      /* We'll set the actual height dynamically via JS to fit the viewport */
    }

    @media (max-width: 600px) {
      .quote-modal-panel { width: 98%; max-width: 98%; border-radius: 6px; }
      .quote-modal-header .modal-logo img { height: 110px; }
      .quote-modal-title { font-size: 18px; }
    }

    /* visually-hidden helper */
    .sr-only { position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; border:0; padding:0; margin:-1px; }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <div class="container header-container">
      <div class="logo">
        <a href="#home" class="logo-link">
          <img
            id="header-logo"
            class="header-logo-img"
            src="img/logo-spanish.png"
            alt="Mejor Vida Insurance logo"
          />
        </a>
      </div>

      <div class="header-right">
        <!-- Flag buttons on top -->
        <div class="lang-toggle">
          <button class="lang-btn active" data-lang-btn="es">
            <span class="flag">üá™üá∏</span> ES
          </button>
          <button class="lang-btn" data-lang-btn="en">
            <span class="flag">üá∫üá∏</span> EN
          </button>
        </div>

        <!-- Nav links below flags -->
        <nav class="nav">
          <a href="#about" data-lang="es">Sobre Julie</a>
          <a href="#about" data-lang="en" style="display:none;">About Julie</a>

          <a href="#how-it-works" data-lang="es">C√≥mo funciona</a>
          <a href="#how-it-works" data-lang="en" style="display:none;">How it works</a>

          <a href="#carriers" data-lang="es">Aseguradoras</a>
          <a href="#carriers" data-lang="en" style="display:none;">Carriers</a>

          <!-- UPDATED: buttons now open the Agent CRM modal (no quote.html links) -->
          <a href="#" class="open-quote-modal" data-lang="es" role="button" aria-pressed="false">Cotizaci√≥n gratis</a>
          <a href="#" class="open-quote-modal" data-lang="en" style="display:none;" role="button" aria-pressed="false">Free quote</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" id="home">
    <div class="container hero-container">
      <div class="hero-text">
        <span class="hero-badge" data-lang="es">
          Seguro de vida para gastos finales, explicado en un lenguaje sencillo
        </span>
        <span class="hero-badge" data-lang="en" style="display:none;">
          Simple final expense life insurance for your family's peace of mind
        </span>

        <h1 data-lang="es">Protege a tu familia con un seguro de gastos finales sencillo</h1>
        <h1 data-lang="en" style="display:none;">Protect your family with simple final expense coverage</h1>

        <p class="hero-subheading" data-lang="es">
          En Mejor Vida Insurance, te ayudamos a encontrar un seguro de vida para gastos finales que se ajuste a tu
          presupuesto y a tu situaci√≥n, trabajando con compa√±√≠as de confianza como Aetna y Mutual of Omaha.
        </p>
        <p class="hero-subheading" data-lang="en" style="display:none;">
          At Mejor Vida Insurance, we help you find final expense life insurance that fits your budget and situation,
          working with trusted companies like Aetna and Mutual of Omaha.
        </p>

        <div class="hero-card">
          <div class="hero-trust">
            <h3 data-lang="es">Orientaci√≥n personal, sin presi√≥n</h3>
            <h3 data-lang="en" style="display:none;">Personal, no‚Äëpressure guidance</h3>
            <p data-lang="es">
              En Mejor Vida Insurance nos tomamos el tiempo para escuchar tu situaci√≥n, explicarte tus opciones paso a paso
              y responder tus preguntas con calma, sin compromiso ni presi√≥n.
            </p>
            <p data-lang="en" style="display:none;">
              At Mejor Vida Insurance, we take the time to understand your situation, explain your options step by step,
              and answer your questions calmly, with no obligation or pressure.
            </p>
          </div>

          <div class="hero-highlight">
            <h3 data-lang="es">Pensado para cubrir gastos finales</h3>
            <h3 data-lang="en" style="display:none;">Designed to help with final expenses</h3>
            <p data-lang="es">
              La cobertura puede ayudar a tu familia con los costos de funeral, entierro, facturas m√©dicas y otras deudas,
              para que tengan un poco m√°s de tranquilidad en un momento dif√≠cil.
            </p>
            <p data-lang="en" style="display:none;">
              Coverage can help your family with funeral and burial costs, medical bills, and other debts so they have a bit
              more peace of mind during a difficult time.
            </p>
          </div>

          <div class="hero-contact">
            <p>
              <!-- UPDATED: buttons now open modal (no quote.html) -->
              <a href="#" class="btn btn-primary open-quote-modal" data-lang="es" role="button" aria-pressed="false">¬°Obt√©n una cotizaci√≥n gratis!</a>
              <a href="#" class="btn btn-primary open-quote-modal" data-lang="en" style="display:none;" role="button" aria-pressed="false">Get a free quote!</a>
            </p>
          </div>
        </div>
      </div>

      <div class="hero-image">
        <img
          src="img/hispanic-family-laughing.jpg"
          alt="Familia hispana sonriendo y protegida con seguro de vida"
        />
      </div>
    </div>
  </section>

  <!-- ABOUT JULIE -->
  <section id="about" class="about">
    <div class="container">
      <h2 data-lang="es">Conoce a Julie</h2>
      <h2 data-lang="en" style="display:none;">Meet Julie</h2>

      <div class="about-content">
        <div class="about-photo">
          <img src="img/Julie.png" alt="Foto de Julie, agente de seguros" />
          <p class="about-photo-caption" data-lang="es">
            Julie, fundadora de Mejor Vida Insurance LLC y agente independiente de seguros de vida.
          </p>
          <p class="about-photo-caption" data-lang="en" style="display:none;">
            Julie, founder of Mejor Vida Insurance LLC and independent life insurance agent.
          </p>
        </div>

        <div class="about-text">
          <div class="about-chips">
            <span class="chip" data-lang="es">Atenci√≥n en espa√±ol e ingl√©s</span>
            <span class="chip" data-lang="en" style="display:none;">Service in English and Spanish</span>
            <span class="chip" data-lang="es">Enfoque en gastos finales</span>
            <span class="chip" data-lang="en" style="display:none;">Focused on final expense</span>
          </div>

          <h3 data-lang="es">Un enfoque humano para hablar de temas dif√≠ciles</h3>
          <h3 data-lang="en" style="display:none;">A human approach to hard conversations</h3>

          <p data-lang="es">
            Julie se especializa en seguros de vida para gastos finales. Su meta es hacer estas conversaciones m√°s f√°ciles:
            explicarte c√≥mo funciona la cobertura, qu√© opciones tienes y c√≥mo proteger mejor a tu familia, sin palabras
            complicadas.
          </p>
          <p data-lang="en" style="display:none;">
            Julie specializes in final expense life insurance. Her goal is to make these conversations easier: explain how
            coverage works, what your options are, and how to best protect your family‚Äîwithout complicated language.
          </p>

          <p data-lang="es">
            Como agente independiente, no trabaja para una sola compa√±√≠a. Eso significa que puede revisar diferentes
            aseguradoras, como Aetna y Mutual of Omaha, para encontrar una p√≥liza que se adapte a tu edad, salud y
            presupuesto.
          </p>
          <p data-lang="en" style="display:none;">
            As an independent agent, she doesn't work for just one company. That means she can look at different insurers,
            like Aetna and Mutual of Omaha, to find a policy that fits your age, health, and budget.
          </p>

          <ul class="about-values">
            <li data-lang="es">Explicaciones claras y honestas.</li>
            <li data-lang="en" style="display:none;">Clear and honest explanations.</li>

            <li data-lang="es">Recomendaciones basadas en tus necesidades, no en la comisi√≥n.</li>
            <li data-lang="en" style="display:none;">Recommendations based on your needs, not commissions.</li>

            <li data-lang="es">Acompa√±amiento en el proceso de solicitud y despu√©s de la aprobaci√≥n.</li>
            <li data-lang="en" style="display:none;">Support through the application process and after approval.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how-it-works" class="how">
    <div class="container">
      <h2 data-lang="es">C√≥mo funciona el proceso de cotizaci√≥n gratuita</h2>
      <h2 data-lang="en" style="display:none;">How the free quote process works</h2>

      <p class="section-subtitle" data-lang="es">
        Completar el formulario de cotizaci√≥n gratuita es el primer paso para proteger a tu familia. Julie se pondr√° en contacto contigo para entender tus necesidades y ayudarte a elegir la mejor opci√≥n de seguro para ti.
      </p>
      <p class="section-subtitle" data-lang="en" style="display:none;">
        Filling out the free quote form is the first step to protecting your family. Julie will reach out to understand your needs and help you choose the best insurance option for you.
      </p>

      <div class="how-grid">
        <div class="how-step">
          <div class="how-step-number">1</div>
          <h3 data-lang="es">Env√≠a tu informaci√≥n</h3>
          <h3 data-lang="en" style="display:none;">Submit your information</h3>
          <p data-lang="es">
            Completa el formulario con tus datos b√°sicos y preferencias para que Julie pueda ofrecerte opciones personalizadas.
          </p>
          <p data-lang="en" style="display:none;">
            Fill out the form with your basic information and preferences so Julie can provide personalized options.
          </p>
        </div>

        <div class="how-step">
          <div class="how-step-number">2</div>
          <h3 data-lang="es">Recibe una llamada o correo de Julie</h3>
          <h3 data-lang="en" style="display:none;">Receive a call or email from Julie</h3>
          <p data-lang="es">
            Julie se comunicar√° contigo para aclarar dudas, conocer m√°s sobre tu situaci√≥n y explicarte las opciones disponibles.
          </p>
          <p data-lang="en" style="display:none;">
            Julie will contact you to answer questions, learn more about your situation, and explain available options.
          </p>
        </div>

        <div class="how-step">
          <div class="how-step-number">3</div>
          <h3 data-lang="es">Trabaja con Julie para elegir la mejor p√≥liza</h3>
          <h3 data-lang="en" style="display:none;">Work with Julie to choose the best policy</h3>
          <p data-lang="es">
            Juntos revisar√°n las opciones, costos y beneficios para encontrar la cobertura que mejor se adapte a ti y a tu presupuesto.
          </p>
          <p data-lang="en" style="display:none;">
            Together, you'll review options, costs, and benefits to find coverage that fits your needs and budget.
          </p>
        </div>

        <div class="how-step">
          <div class="how-step-number">4</div>
          <h3 data-lang="es">Disfruta de la tranquilidad</h3>
          <h3 data-lang="en" style="display:none;">Enjoy peace of mind</h3>
          <p data-lang="es">
            Con la p√≥liza en vigor, puedes estar tranquilo sabiendo que tu familia estar√° protegida cuando m√°s lo necesite.
          </p>
          <p data-lang="en" style="display:none;">
            With your policy in place, you can have peace of mind knowing your family will be protected when they need it most.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CARRIERS -->
  <section id="carriers" class="carriers">
    <div class="container">
      <h2 data-lang="es">Aseguradoras de confianza</h2>
      <h2 data-lang="en" style="display:none;">Trusted insurance companies</h2>

      <p class="section-subtitle" data-lang="es">
        Como agente independiente, Julie trabaja con varias aseguradoras reconocidas. Aqu√≠ hay informaci√≥n detallada sobre dos de las compa√±√≠as con las que puede ayudarte: Aetna y Mutual of Omaha.
      </p>
      <p class="section-subtitle" data-lang="en" style="display:none;">
        As an independent agent, Julie works with several well‚Äëknown insurance companies. Here is detailed information about two of the companies she can help you with: Aetna and Mutual of Omaha.
      </p>

      <div class="carriers-grid">
        <div class="carrier-card">
          <h3>Aetna</h3>
          <ul>
            <li data-lang="es">
              Ofrece p√≥lizas de vida entera para gastos finales (conocidas como "final expense"), dise√±adas para ayudar a
              cubrir costos como funeral, entierro, facturas m√©dicas y otras deudas peque√±as al final de la vida.
            </li>
            <li data-lang="en" style="display:none;">
              Offers whole life "final expense" policies designed to help cover costs such as funeral, burial, medical bills,
              and other small end‚Äëof‚Äëlife debts.
            </li>

            <li data-lang="es">
              Las sumas aseguradas suelen ser montos modestos, pensados para complementar otros seguros o ahorros que ya
              puedas tener, de modo que tu familia no tenga que adelantar todo el dinero en un momento dif√≠cil.
            </li>
            <li data-lang="en" style="display:none;">
              Coverage amounts are typically modest, intended to complement any existing insurance or savings so your family
              doesn't have to come up with all of the money at once during a difficult time.
            </li>

            <li data-lang="es">
              La prima se mantiene nivelada durante la vida de la p√≥liza: lo que pagas al inicio es lo que sigues pagando en el
              futuro, mientras la p√≥liza permanezca vigente.
            </li>
            <li data-lang="en" style="display:none;">
              Premiums remain level for the life of the policy: what you pay at the beginning is what you continue to pay in the
              future as long as the policy stays in force.
            </li>

            <li data-lang="es">
              El proceso de solicitud suele ser simplificado: en muchos casos no se requiere examen m√©dico y se usan
              cuestionarios de salud b√°sicos. Dependiendo de tus respuestas y de tu historial, Aetna puede ofrecer diferentes
              niveles de aceptaci√≥n.
            </li>
            <li data-lang="en" style="display:none;">
              The application process is usually simplified: in many cases no medical exam is required, and basic health
              questionnaires are used instead. Depending on your answers and history, Aetna may offer different levels of
              acceptance.
            </li>

            <li data-lang="es">
              Como p√≥liza de vida entera, est√° dise√±ada para ser cobertura permanente: mientras se paguen las primas, la
              p√≥liza no vence a una edad espec√≠fica, lo que puede ofrecer estabilidad a largo plazo.
            </li>
            <li data-lang="en" style="display:none;">
              As a whole life policy, it is designed to provide permanent coverage: as long as premiums are paid, the policy
              does not expire at a specific age, which can provide long‚Äëterm stability.
            </li>
          </ul>
        </div>

        <div class="carrier-card">
          <h3>Mutual of Omaha</h3>
          <ul>
            <li data-lang="es">
              Aseguradora con m√°s de 100 a√±os de historia en el mercado de seguros de vida, conocida por su solidez financiera
              y por ofrecer productos dise√±ados espec√≠ficamente para gastos finales.
            </li>
            <li data-lang="en" style="display:none;">
              An insurer with over 100 years of history in the life insurance market, known for financial strength and for
              offering products specifically designed for final expenses.
            </li>

            <li data-lang="es">
              Sus p√≥lizas de vida entera para gastos finales est√°n pensadas para ayudar a cubrir costos como funeral, entierro,
              servicios conmemorativos y otras deudas peque√±as, con montos de cobertura que suelen ir desde cantidades
              relativamente bajas hasta montos suficientes para cubrir la mayor√≠a de los gastos de funeral.
            </li>
            <li data-lang="en" style="display:none;">
              Its whole life final expense policies are designed to help cover costs such as funeral, burial, memorial
              services, and other small debts, with coverage amounts that typically range from smaller amounts up to levels
              that can cover most funeral expenses.
            </li>

            <li data-lang="es">
              Las primas est√°n dise√±adas para mantenerse niveladas: no aumentan simplemente porque envejeces o porque cambie tu
              estado de salud despu√©s de que la p√≥liza haya sido emitida.
            </li>
            <li data-lang="en" style="display:none;">
              Premiums are designed to stay level: they do not increase just because you get older or your health changes after
              the policy is issued.
            </li>

            <li data-lang="es">
              Algunas p√≥lizas usan un beneficio por fallecimiento "gradual" (graded) durante un periodo inicial. Esto
              generalmente significa que, si el fallecimiento es por causas naturales en esos primeros a√±os, el beneficiario
              podr√≠a recibir las primas pagadas m√°s un inter√©s; si la muerte es por accidente, el beneficio completo suele
              estar disponible desde el primer d√≠a. Despu√©s de ese periodo, muchas p√≥lizas pagan el beneficio completo por la
              mayor√≠a de las causas de muerte, seg√∫n los t√©rminos de la p√≥liza.
            </li>
            <li data-lang="en" style="display:none;">
              Some policies use a "graded" death benefit during an initial period. This typically means that if death is from
              natural causes during those first years, the beneficiary may receive the premiums paid plus interest; if death is
              due to an accident, the full benefit is often available from day one. After that period, many policies pay the
              full benefit for most causes of death, according to the policy terms.
            </li>

            <li data-lang="es">
              Mutual of Omaha ofrece diferentes opciones seg√∫n la edad, el estado de salud y el estado donde vivas. Los
              requisitos espec√≠ficos y las cantidades de cobertura disponibles pueden variar, por lo que es importante revisar
              tu situaci√≥n personal con un agente autorizado.
            </li>
            <li data-lang="en" style="display:none;">
              Mutual of Omaha offers different options depending on your age, health, and the state you live in. Specific
              requirements and available coverage amounts can vary, so it is important to review your personal situation with a
              licensed agent.
            </li>
          </ul>
        </div>
      </div>

      <p class="carriers-note" data-lang="es">
        Esta informaci√≥n es un resumen general de productos p√∫blicos y no un folleto oficial. Los detalles espec√≠ficos,
        montos de cobertura, requisitos de elegibilidad y beneficios dependen de cada compa√±√≠a, del estado donde viva y de
        su situaci√≥n personal. Un agente autorizado puede revisar su caso y explicarle qu√© opciones aplican para usted.
      </p>
      <p class="carriers-note" data-lang="en" style="display:none;">
        This information is a general summary of public products and not an official brochure. Specific details, coverage
        amounts, eligibility requirements, and benefits depend on each company, the state you live in, and your personal
        situation. A licensed agent can review your case and explain which options apply to you.
      </p>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer-bottom">
      <div class="footer-left">
        <p>
          &copy; <span id="year"></span> Mejor Vida Insurance LLC. All rights reserved.
        </p>
        <p>
          P.O. Box 21885, Lincoln, NE 68542
        </p>
        <p data-lang="es">
          Julie es una productora de seguros autorizada en el estado de Nebraska para Accident and Health or Sickness y Life.
        </p>
        <p data-lang="en" style="display:none;">
          Julie is a licensed insurance producer in the State of Nebraska for Accident and Health or Sickness, and Life.
        </p>
        <p>
          <span data-lang="es">Tel: </span><span data-lang="en" style="display:none;">Phone: </span>
          <a href="tel:5312291712">(531) 229‚Äë1712</a> |
          <a href="mailto:Julie@mejorvidainsurance.com">Julie@mejorvidainsurance.com</a>
        </p>
        <p>
          <a href="privacy-policy.html" data-lang="es">Pol√≠tica de Privacidad</a> | 
          <a href="terms-service.html" data-lang="es">T√©rminos de Servicio</a>
          <a href="privacy-policy.html" data-lang="en" style="display:none;">Privacy Policy</a> | 
          <a href="terms-service.html" data-lang="en" style="display:none;">Terms of Service</a>
        </p>
      </div>
      <div class="footer-right">
        <span data-lang="es">S√≠guenos:</span>
        <span data-lang="en" style="display:none;">Follow us:</span>

        <!-- Font Awesome social icons -->
        <a
          href="https://www.facebook.com/"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Facebook"
        >
          <i class="fab fa-facebook-f"></i>
        </a>
        <a
          href="https://www.instagram.com/"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Instagram"
        >
          <i class="fab fa-instagram"></i>
        </a>
        <a
          href="https://www.linkedin.com/"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="LinkedIn"
        >
          <i class="fab fa-linkedin-in"></i>
        </a>
      </div>
    </div>
  </footer>

  <!-- Agent CRM Modal HTML (hidden by default) -->
  <div id="quoteModal" class="quote-modal" aria-hidden="true" role="dialog" aria-labelledby="quoteModalTitle">
    <div class="quote-modal-backdrop" data-close-modal></div>
    <div class="quote-modal-panel" role="document">
      <!-- Modal header with logo + centered title -->
      <div class="quote-modal-header" role="banner">
        <div class="modal-logo" aria-hidden="true">
          <img src="img/logo-spanish.png" alt="Mejor Vida Insurance" />
        </div>

        <div class="modal-title-wrap" aria-hidden="true">
          <div class="quote-modal-title" data-lang="es">Mejor Vida Insurance ‚Äî Cotizaci√≥n gratuita</div>
          <div class="quote-modal-title" data-lang="en" style="display:none;">Mejor Vida Insurance ‚Äî Free Quote</div>
          <div class="quote-modal-subtitle" data-lang="es">Completa el formulario a continuaci√≥n y Julie te contactar√°</div>
          <div class="quote-modal-subtitle" data-lang="en" style="display:none;">Fill out the form below and Julie will reach out</div>
        </div>

        <button class="quote-modal-close" aria-label="Cerrar" data-close-modal>&times;</button>
      </div>

      <div class="quote-iframe-wrap" aria-live="polite">
        <div class="quote-iframe-inner" id="quoteIframeInner">
          <!-- Agent CRM iframe embed -->
          <iframe
              id="quoteEmbedIframe"
              src="https://crm.mejorvidainsurance.com/widget/form/uApX9m6VUhke3XRK4Iov"
              title="MVI-Final Expense ‚Äì Quote Form (Spanish)"
              frameborder="0"
              scrolling="yes"
              aria-label="Formulario de cotizaci√≥n"
          ></iframe>
        </div>

        <!-- Agent CRM embed script (keeps iframe functionality) -->
        <script src="https://crm.mejorvidainsurance.com/js/form_embed.js"></script>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // Language toggle (unchanged)
    const langButtons = document.querySelectorAll('.lang-btn');
    let currentLanguage = 'es';

    function setLanguage(lang) {
      currentLanguage = lang;

      document.querySelectorAll('[data-lang="es"]').forEach(el => {
        el.style.display = lang === 'es' ? '' : 'none';
      });
      document.querySelectorAll('[data-lang="en"]').forEach(el => {
        el.style.display = lang === 'en' ? '' : 'none';
      });

      langButtons.forEach(btn => {
        if (btn.dataset.langBtn === lang) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });
    }

    langButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        setLanguage(btn.dataset.langBtn);
      });
    });

    // Set default language on load
    setLanguage('es');

    // Set current year in footer
    const yearSpan = document.getElementById('year');
    if (yearSpan) {
      yearSpan.textContent = new Date().getFullYear();
    }
  </script>

  <!-- Modal control script: opens/closes modal, prefill support, dynamic iframe sizing -->
  <script>
    (function() {
      const modal = document.getElementById('quoteModal');
      const iframe = document.getElementById('quoteEmbedIframe');
      const closeControls = modal.querySelectorAll('[data-close-modal]');
      const openButtons = document.querySelectorAll('.open-quote-modal');
      const modalPanel = modal.querySelector('.quote-modal-panel');
      const modalHeader = modal.querySelector('.quote-modal-header');

      // Keep the original iframe base src so we can append prefill params if needed.
      const iframeBaseSrc = iframe.getAttribute('src');

      function buildIframeSrcWithPrefill(params) {
        // Only append params that exist (first,last,email,phone)
        const allowed = ['first','last','email','phone'];
        const qs = new URLSearchParams();
        allowed.forEach(k => {
          if (params[k]) qs.set(k, params[k]);
        });
        const qstr = qs.toString();
        return qstr ? (iframeBaseSrc + (iframeBaseSrc.indexOf('?') === -1 ? '?' : '&') + qstr) : iframeBaseSrc;
      }

      function sizeIframeToViewport() {
        // Height available inside modal panel = modalPanel.clientHeight - headerHeight
        const panelHeight = modalPanel.clientHeight;
        const headerHeight = modalHeader ? modalHeader.offsetHeight : 0;
        // Keep some breathing room (20px)
        const available = Math.max(600, panelHeight - headerHeight - 20);
        iframe.style.height = available + 'px';
      }

      function openQuoteModal(event, options = {}) {
        if (event && typeof event.preventDefault === 'function') event.preventDefault();

        // If options.prefill exists, use it to build iframe src
        let params = {};
        if (options.prefill && typeof options.prefill === 'object') {
          params = options.prefill;
        } else {
          // attempt to read from current page URL query params
          const pageParams = new URLSearchParams(window.location.search);
          ['first','last','email','phone'].forEach(k => {
            if (pageParams.get(k)) params[k] = pageParams.get(k);
          });
        }

        // Update iframe src only when needed (so embed script can initialize)
        iframe.src = buildIframeSrcWithPrefill(params);

        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';

        // Wait a tick for modal to render, then size iframe
        setTimeout(sizeIframeToViewport, 50);

        // focus for accessibility
        const closeBtn = modal.querySelector('[data-close-modal]');
        if (closeBtn) closeBtn.focus();
      }

      function closeQuoteModal(event) {
        if (event && typeof event.preventDefault === 'function') event.preventDefault();
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';

        // Optionally reset iframe to base src to stop any running scripts ‚Äî uncomment if desired:
        // iframe.src = iframeBaseSrc;
      }

      // Attach open handlers to buttons
      openButtons.forEach(btn => {
        btn.addEventListener('click', openQuoteModal);
        // ensure keyboard accessibility
        btn.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            openQuoteModal(e);
          }
        });
      });

      // Attach close handlers
      closeControls.forEach(el => el.addEventListener('click', closeQuoteModal));
      // Close on Esc
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') closeQuoteModal();
      });

      // Close when clicking backdrop
      modal.querySelector('.quote-modal-backdrop').addEventListener('click', closeQuoteModal);

      // Auto-open if URL has ?openQuote=1
      const params = new URLSearchParams(window.location.search);
      if (params.get('openQuote') === '1') {
        // extract any prefill fields from url (optional)
        const prefill = {};
        ['first','last','email','phone'].forEach(k => {
          if (params.get(k)) prefill[k] = params.get(k);
        });

        // small delay so page finishes rendering
        setTimeout(() => openQuoteModal(null, { prefill }), 300);

        // optionally remove query param from history to avoid reopening on refresh
        if (history.replaceState) {
          const url = new URL(window.location.href);
          url.searchParams.delete('openQuote');
          url.searchParams.delete('first');
          url.searchParams.delete('last');
          url.searchParams.delete('email');
          url.searchParams.delete('phone');
          history.replaceState({}, '', url.pathname + url.search);
        }
      }

      // Ensure iframe is resized when window changes while modal is open
      window.addEventListener('resize', function() {
        if (modal.getAttribute('aria-hidden') === 'false') {
          // small debounce
          clearTimeout(window._quoteResizeTimer);
          window._quoteResizeTimer = setTimeout(sizeIframeToViewport, 80);
        }
      });

      // Expose a global function for the chatbot to call directly
      window.openQuoteFormModal = function(prefillObj) {
        // prefillObj should be an object like { first: 'Juan', email: 'juan@example.com' }
        openQuoteModal(null, { prefill: prefillObj || {} });
      };

      window.closeQuoteFormModal = closeQuoteModal;
    })();
  </script>

  <script 
    src="https://widgets.leadconnectorhq.com/loader.js"  
    data-resources-url="https://widgets.leadconnectorhq.com/chat-widget/loader.js" 
    data-widget-id="6935d169d355bd236df7342d"   > 
  </script>
</body>
</html>
