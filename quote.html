<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CotizaciÃ³n gratuita â€” Mejor Vida Insurance</title>
  <meta name="robots" content="noindex, follow" />
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <style>
    :root{
      --page-bg: #f5f5f5;
      --container-w: 1180px;
      --accent: #d17e00;
      --brand-blue: #0f4db6;
    }
    html,body {
      margin:0;
      height:100%;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: var(--page-bg);
      color: #222;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Header matches index structure */
    header.header {
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }
    .container {
      max-width: var(--container-w);
      margin: 0 auto;
      padding: 12px 20px;
      box-sizing: border-box;
    }
    .header-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .logo { flex: 0 0 auto; }
    .logo img, #header-logo, .header-logo-img {
      height: 150px;
      width: auto;
      max-width: 100%;
      display:block;
    }

    .header-right {
      display: flex;
      align-items: flex-start;
      gap: 18px;
      flex: 1 1 auto;
      justify-content: flex-end;
    }

    .lang-toggle {
      display:flex;
      gap:8px;
      align-items:center;
    }
    .lang-btn {
      background: transparent;
      border: 1.5px solid #ccc;
      color: #333;
      padding:6px 10px;
      border-radius:6px;
      font-weight:600;
      cursor:pointer;
    }
    .lang-btn.active {
      background: var(--brand-blue);
      color: #fff;
      border-color: var(--brand-blue);
    }

    .nav {
      display:flex;
      align-items:center;
      gap: 14px;
      margin-left: 8px;
    }
    .nav a {
      color: #333;
      text-decoration:none;
      font-weight:600;
      padding:8px 10px;
      border-radius:6px;
    }
    .nav a.btn-quote {
      background: var(--brand-blue);
      color:#fff;
    }

    /* Scheduler container */
    main {
      max-width: var(--container-w);
      margin: 18px auto;
      padding: 0 20px 40px;
      box-sizing: border-box;
    }

    .iframe-wrap {
      width:100%;
      height: calc(100vh - 220px); /* leave room for header + margins */
      max-height: 1400px;
      background: #fff;
      border-radius: 8px;
      overflow:auto;
      box-shadow: 0 6px 22px rgba(10,20,40,0.06);
    }

    .iframe-wrap iframe {
      width:100%;
      height:100%;
      border:0;
      display:block;
      border-radius: 8px;
      box-sizing:border-box;
      min-height:700px;
    }

    @media (max-width: 980px) {
      .header-container { flex-direction:column; align-items:center; gap:8px; }
      .header-right { width:100%; justify-content:space-between; align-items:center; }
      .logo img { height:120px; }
      .iframe-wrap { height: calc(100vh - 260px); }
    }
    @media (max-width:520px) {
      .logo img { height:100px; }
      .iframe-wrap { height: calc(100vh - 220px); }
      .nav a { font-size:14px; padding:6px 8px; }
      .lang-btn { padding:6px 8px; }
    }
  </style>
</head>
<body>
  <!-- Header exactly like index structure -->
  <header class="header">
    <div class="container header-container">
      <div class="logo">
        <a href="/" class="logo-link">
          <img id="header-logo" class="header-logo-img" src="img/logo-spanish.png" alt="Mejor Vida Insurance logo" />
        </a>
      </div>

      <div class="header-right">
        <div class="lang-toggle" role="group" aria-label="Language toggle">
          <button class="lang-btn active" data-lang-btn="es"><span class="flag">ðŸ‡ªðŸ‡¸</span> ES</button>
          <button class="lang-btn" data-lang-btn="en"><span class="flag">ðŸ‡ºðŸ‡¸</span> EN</button>
        </div>

        <nav class="nav" aria-label="Primary navigation">
          <a href="/" data-lang="es">Inicio</a>
          <a href="/" data-lang="en" style="display:none;">Home</a>

          <a href="/quote.html" class="btn-quote" data-lang="es" role="button">CotizaciÃ³n gratis</a>
          <a href="/quote.html" class="btn-quote" data-lang="en" style="display:none;" role="button">Free quote</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Main: scheduler is the main thing and displayed immediately -->
  <main>
    <div class="iframe-wrap" id="booking-container" aria-live="polite">
      <iframe
        id="booking-widget"
        title="Schedule with Julie â€” Mejor Vida Insurance"
        src="https://crm.mejorvidainsurance.com/widget/bookings/julies-quote-consultation"
        loading="lazy"
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups"
      ></iframe>
    </div>
  </main>

  <!-- Language toggle + iframe size script (same behavior as index) -->
  <script>
    // Language toggle (matches index behavior)
    const langButtons = document.querySelectorAll('.lang-btn');
    function setLanguage(lang) {
      document.querySelectorAll('[data-lang="es"]').forEach(el => el.style.display = lang === 'es' ? '' : 'none');
      document.querySelectorAll('[data-lang="en"]').forEach(el => el.style.display = lang === 'en' ? '' : 'none');
      langButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.langBtn === lang));
    }
    langButtons.forEach(btn => btn.addEventListener('click', () => setLanguage(btn.dataset.langBtn)));
    setLanguage('es');

    // Ensure iframe fills available area and adjust on resize
    (function ensureBookingIframeHeight() {
      var iframe = document.getElementById('booking-widget');
      var wrapper = document.getElementById('booking-container');

      function applyHeight() {
        if (!iframe || !wrapper) return;
        // compute available space below top of wrapper
        var top = wrapper.getBoundingClientRect().top;
        var maxAvailable = window.innerHeight - top - 24; // keep some breathing room
        iframe.style.height = Math.max(700, Math.min(1400, maxAvailable)) + 'px';
      }

      document.addEventListener('DOMContentLoaded', applyHeight);
      setTimeout(applyHeight, 300);
      setTimeout(applyHeight, 1500);
      window.addEventListener('resize', applyHeight);
    })();
  </script>

  <!-- Chat widget loader (same as index) -->
  <script
    src="https://widgets.leadconnectorhq.com/loader.js"
    data-resources-url="https://widgets.leadconnectorhq.com/chat-widget/loader.js"
    data-widget-id="6935d169d355bd236df7342d"></script>
</body>
</html>
